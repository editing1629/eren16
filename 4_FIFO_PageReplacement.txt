#rename file name-FIFO_PageReplacement

import java.util.*;

abstract class PageReplacement {
    protected int frames;
    protected List<Integer> ref;

    PageReplacement(int f, List<Integer> r) {
        frames = f;
        ref = r;
    }

    abstract void execute();
}

class FIFO extends PageReplacement {
    FIFO(int f, List<Integer> r) { super(f, r); }

    void execute() {
        Queue<Integer> q = new LinkedList<>();
        int faults = 0;

        for (int p : ref) {
            if (!q.contains(p)) {
                if (q.size() == frames)
                    q.poll();
                q.add(p);
                faults++;
            }
            System.out.println(q);
        }
        System.out.println("Total Page Faults = " + faults);
    }
}

public class FIFO_PageReplacement {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);
        System.out.print("Frames: ");
        int f = sc.nextInt();

        System.out.print("Pages: ");
        int n = sc.nextInt();

        List<Integer> ref = new ArrayList<>();
        for (int i = 0; i < n; i++)
            ref.add(sc.nextInt());

        PageReplacement algo = new FIFO(f, ref);
        algo.execute();
    }
}

